#randomly rotating image test data

import cv2
from google.colab.patches import cv2_imshow
import numpy as np
import random

dim = (100,100)
angle=45
resized = cv2.resize(img, dim, interpolation = cv2.INTER_AREA)

def randrot(img):
  angle=67
  #random.randint(0,90)
  (height, weight) = img.shape[:2]
  #print(img.shape[:2])
  (cx, cy) = (weight / 2, height / 2)
  M = cv2.getRotationMatrix2D((cx, cy), angle, 1)
  side=(img.shape[0]**2+img.shape[1]**2)**0.5
  M[0,2]+=np.abs(cx-side/2)
  M[1,2]+=np.abs(cy-side/2)
  imgrot=cv2.warpAffine(img,M,(int(side),int(side)))
  #cv2_imshow(imgrot)
  return imgrot

testim=randrot(cv2.imread("/path1/"))
cv2.imwrite("/path2/", testims[5])
